(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5254],{35254:function(e,t,n){"use strict";n.d(t,{UW:function(){return j},EG:function(){return w},EE:function(){return P},Lv:function(){return S}});var a=n(57437);function s(e){let{isDarkForm:t=!1}=e;return(0,a.jsx)("div",{className:"flex justify-center items-center h-40",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 ".concat(t?"border-white":"border-primary-blue"," ")})})}n(60542);var l=n(2265),i=e=>{let{isDarkForm:t=!1}=e;return(0,a.jsx)("div",{className:"flex items-center text-center w-full h-full mt-4",children:(0,a.jsxs)("div",{className:"message-wrapper w-full",children:[(0,a.jsx)("div",{className:"flex justify-center",children:(0,a.jsx)("img",{src:"/_a/icons/thumbs-up.svg",alt:"thimb-image"})}),(0,a.jsx)("h3",{className:"error-title text-4xl my-8 text-center font-baskervville ".concat(t?"text-white":"text-sky-900"," "),children:"Thank You For Your Interest."}),(0,a.jsx)("p",{className:"text-center text-sm  ".concat(t?"text-white":"text-gray-600","  p-2 font-raleway font-medium"),children:"We have successfully received your information. One of our counselors will contact you shortly to help complete your registration."})]})})},r=n(52976),o=n(1818),c=n(96785),u=n(76019),d=n(75006),p=n.n(d),m=n(58202),f=n(52794),h=n.n(f);function _(e){let{value:t,onChange:n,className:s,message:i,loading:c,isDarkForm:u=!1}=e,[d,p]=(0,l.useState)(Array(6).fill("")),m=(0,l.useRef)([]),f=(0,l.useRef)(null),_=(0,l.useId)();(0,l.useEffect)(()=>{m.current[0]&&m.current[0].focus()},[]),(0,l.useEffect)(()=>{if(i&&!c){let e=f.current;if(e){let t=e.getElementsByTagName("input");for(let e=0;e<t.length;e++)t[e].value=""}}},[i,c]);let g=(e,t)=>{var a,s,l;let i=e.target.value.replace(/\D/g,""),c=[...d];c[t]=i,p(c),n(c.join("")),i&&t<5&&(null===(a=m.current[t+1])||void 0===a||a.focus()),5===t&&i&&(0,o.y)({event:"otp_verification_card_fill",field_name:"OTP",section_name:(0,r.b)("parentSection")||"NA",page_type:(0,r.b)("pageType")||"Home Page",page_url:(null===(l=window)||void 0===l?void 0:null===(s=l.location)||void 0===s?void 0:s.href)||"NA"})},v=(e,t)=>{if("Backspace"===e.key){let e=[...d];if(!e[t]&&t>0){var a;null===(a=m.current[t-1])||void 0===a||a.focus()}e[t]="",p(e),n(e.join(""))}};return(0,a.jsx)("div",{className:"".concat(h().root," ").concat(s),ref:f,children:d.map((e,t)=>(0,a.jsx)("input",{type:"text",value:e,id:"otp_".concat(_,"_").concat(t),maxLength:1,className:"".concat(h().input6," ").concat(u?h().inputDark:""),onChange:e=>g(e,t),onKeyDown:e=>v(e,t),disabled:c,autoComplete:"off",pattern:"[0-9]*",inputMode:"numeric",ref:e=>{m.current[t]=e}},t))})}function g(e){return(0,a.jsx)(u.gN,{name:e.name,render:t=>{let{input:{value:n,onChange:s}}=t;return(0,a.jsx)(_,{value:n,onChange:s,className:e.className,message:e.message,loading:e.loading,isDarkForm:e.isDarkForm})}})}var v=n(61994),x=n(25977),y=(0,l.memo)(e=>{let{setResendDisabled:t}=e,[n,s]=(0,l.useState)(180),i=(0,l.useRef)(null);return(0,l.useEffect)(()=>(t(!0),s(180),i.current=setInterval(()=>{s(e=>e<=1?(t(!1),clearInterval(i.current),0):e-1)},1e3),()=>{clearInterval(i.current)}),[]),(0,a.jsxs)("span",{style:{marginLeft:4},children:["in"," ",Math.floor(n/60).toString().padStart(2,"0")," ","min ",(n%60).toString().padStart(2,"0")," sec"]})}),b=e=>{let{isDarkForm:t=!1,isCampusImmersionPage:n,isProgramDetailsPage:s}=e,{message:i,isOTPLoading:c,setOTPSent:d,handleSendOTP:f,handleVerifyOTP:h,otpResponse:_,formCallback:b,setMessage:N,setIsHeaderHidden:j,isNewSignInFlow:w,handleResendOTP:P}=S(),[O,k]=(0,l.useState)(!0),C=(0,l.useCallback)((e,t)=>{h(e),null==t||t.reset()},[_]);return(0,a.jsx)(u.l0,{onSubmit:C,validate:e=>{let t={};return/\d{6}/.test(e.otp)||(t.email="Please enter OTP"),t},children:e=>{let{form:s,handleSubmit:l,hasValidationErrors:u}=e;return s.getState(),(0,a.jsxs)("form",{className:"".concat(p().content," py-4 flex flex-col"),onSubmit:l,children:[null===i&&w?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(x.Z,{className:t?p().formHeading2:p().formHeading,children:"Enter Your OTP"}),(0,a.jsx)("div",{className:t?p().subheading2:p().subheading,children:"OTP Has Been Sent Successfully"})]}):null===i?(0,a.jsx)("div",{className:"".concat(t?"text-white":"text-blu"," font-baskervville font-small capitalize mb-3 lg:mb-4 ").concat(p().header),children:"OTP has been sent successfully"}):null,i?(0,a.jsx)("div",{className:t?"text-white":"text-red-800",children:i}):null,(0,a.jsxs)("div",{className:"flex w-min flex-wrap items-center justify-between",style:{width:"100%"},children:[(0,a.jsxs)("span",{className:"text-xs ".concat(t?"text-white":"text-blu"," underline"),children:["Enter OTP sent to ",_.mobile]}),(0,a.jsxs)("span",{className:"text-xs flex items-center whitespace-nowrap cursor-pointer",onClick:e=>{var t,n;d(!1),j(!1),(0,o.y)({event:"otp_verification_card_cta_click",cta_text:"Edit Number",section_name:(0,r.b)("parentSection")||"NA",error_message:"NA",page_type:(0,r.b)("pageType")||"Home Page",page_url:(null===(n=window)||void 0===n?void 0:null===(t=n.location)||void 0===t?void 0:t.href)||"NA"})},children:[(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"21",height:"21",viewBox:"0 0 21 21",fill:"none",className:"ml-auto",children:[(0,a.jsx)("g",{clipPath:"url(#clip0_1165_4804)",children:(0,a.jsx)("path",{d:"M12.3025 7.8925L13.1075 8.6975L5.18 16.625H4.375V15.82L12.3025 7.8925ZM15.4525 2.625C15.2337 2.625 15.0062 2.7125 14.84 2.87875L13.2388 4.48L16.52 7.76125L18.1212 6.16C18.4625 5.81875 18.4625 5.2675 18.1212 4.92625L16.0738 2.87875C15.8988 2.70375 15.68 2.625 15.4525 2.625ZM12.3025 5.41625L2.625 15.0938V18.375H5.90625L15.5837 8.6975L12.3025 5.41625Z",fill:"#1A325D"})}),(0,a.jsx)("defs",{children:(0,a.jsx)("clipPath",{id:"clip0_1165_4804",children:(0,a.jsx)("rect",{width:"21",height:"21",fill:"white"})})})]}),(0,a.jsx)("span",{children:"Edit Number"})]}),(0,a.jsx)("div",{className:"w-100 mt-4",style:{width:"100%"},children:(0,a.jsx)(g,{name:"otp",message:i,loading:c,isDarkForm:t},c&&i)})]}),(0,a.jsx)("div",{className:"mb-2"}),(0,a.jsxs)("div",{className:"".concat((0,v.Z)({grey:O,"text-blu underline":!O})," mb-4 text-xs inline-flex w-auto"),children:[(0,a.jsx)("span",{onClick:()=>{if(!O){var e,t;(0,o.y)({event:"otp_verification_card_cta_click",cta_text:"Resend OTP",section_name:(0,r.b)("parentSection")||"NA",error_message:"NA",page_type:(0,r.b)("pageType")||"Home Page",page_url:(null===(t=window)||void 0===t?void 0:null===(e=t.location)||void 0===e?void 0:e.href)||"NA"}),N(null),P(_,null==b?void 0:b.cb),k(!0)}},className:"".concat((0,v.Z)({"cursor-pointer":!O})),children:"Resend OTP"})," ",O&&(0,a.jsx)(y,{setResendDisabled:k})]}),(0,a.jsxs)(m.default,{...t&&n?{backgroundColor:"g",color:"g"}:{backgroundColor:"h",color:"h"},id:"btnVerifySuccess",type:"submit",disabled:c||u,children:["VERIFY",c?"ING":""," OTP"]})]})}})},N=n(99376);let j=(0,l.createContext)({});function w(e){let{children:t,isLambdaAPI:n=!1,isCertification:s=!1}=e,[i,u]=(0,l.useState)(null),[d,p]=(0,l.useState)(null),[m,f]=(0,l.useState)(!1),[h,_]=(0,l.useState)(!1),[g,v]=(0,l.useState)(!1),[x,y]=(0,l.useState)(null),[b,w]=(0,l.useState)(null),[S,P]=(0,l.useState)(null),[O,k]=(0,l.useState)(!1),[C,T]=(0,l.useState)(!1),[A,E]=(0,l.useState)(!1),[I,L]=(0,l.useState)(!1),[H,D]=(0,l.useState)(null),[F,G]=(0,l.useState)(!1),[R,V]=(0,l.useState)(!0),M=(0,N.usePathname)(),Y=e=>{let{phone:t,mobile:n,phoneNumber:a,countryCode:s,emailId:l,email:i}=e,r=t||n||a||l||i;fetch("/api/otp/send",{method:"post",body:JSON.stringify({mobile:r})}).then(e=>e.json()).then(e=>{e.success&&P({...e,mobile:r,countryCode:s})})},Z=async(e,t,n,a,s)=>{let{phone:l,mobile:i,phoneNumber:r,countryCode:o,emailId:c,email:d,...m}=e,h=l||i||r||c||d;if("function"!=typeof t||await t()||"+91"===o||(G(!0),s?s(!0):V(!1)),"+91"!=o){T(!0);return}u({cb:t}),p({verifyOtpGaCb:a}),D({checkLeadFail:s}),v(!0),fetch("/api/otp/send",{method:"post",body:JSON.stringify({mobile:h})}).then(e=>e.json()).then(e=>{v(!1),e.success?(f(!0),w(null),delete e.otp,P({...e,mobile:h,countryCode:o}),"function"==typeof n&&n()):w(e.message)}).catch(e=>{}).finally(()=>{v(!1)})},W=()=>{f(!1),k(!0),w(null),_(!0),(null==d?void 0:d.verifyOtpGaCb)&&d.verifyOtpGaCb()},B=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};fetch("/api/leadsquared.com/lead-update",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({form:{leadId:(null==x?void 0:x.ProspectId)||"",Custom5:"Verified",...Object.keys(e).length&&{...e}}})}).then(e=>e.json()).then(e=>{if(e.success){let t=(null==e?void 0:e.response)||{};(null==t?void 0:t.Status)==="Success"?(W(),(null==H?void 0:H.checkLeadFail)&&H.checkLeadFail(!1)):(null==t?void 0:t.Status)==="Error"&&(w("We are encountering the server issue please try again."),G(!0),(null==H?void 0:H.checkLeadFail)&&!M.includes("/lp-nw")?H.checkLeadFail(!0):(V(!1),W()),console.error("Error to update lead"))}}).catch(e=>{console.error("error",e),G(!0)})},J=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};fetch("/api/leadsquared.com/lead-update-lp",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({form:{leadId:(null==x?void 0:x.ProspectId)||"",Custom5:"Verified",...Object.keys(e).length&&{...e}}})}).then(e=>e.json()).then(e=>{if(e.success){let t=(null==e?void 0:e.response)||{};(null==t?void 0:t.Status)==="Success"?(f(!1),k(!0),w(null),_(!0),(null==d?void 0:d.verifyOtpGaCb)&&d.verifyOtpGaCb(null==x?void 0:x.ProspectId)):(null==t?void 0:t.Status)==="Error"&&(w("We are encountering the server issue please try again."),console.error("Error to update lead"))}})},K=(0,l.useCallback)(e=>{let t={hash:S.hash,mobile:S.mobile,otp:e.otp};v(!0),fetch("/api/otp/verify",{method:"post",body:JSON.stringify(t)}).then(e=>e.json()).then(e=>{var t,a,l,i,u,p;if(S.mobile&&(S.mobile.startsWith("23")||S.mobile.startsWith("123"))&&!(M.includes("/corporates")||M.includes("/ip-listing")||M.includes("/contact-us"))){s?W():n?J():B();return}if((M.includes("/corporates")||M.includes("/ip-listing")||M.includes("/contact-us"))&&e.success&&(f(!1),k(!0),w(null),_(!0),(null==d?void 0:d.verifyOtpGaCb)&&d.verifyOtpGaCb()),M.includes("/lp-nw")&&e.success){(0,o.y)({event:"form_otp_verify",cta_text:"Verify OTP",lead_starting_cta:"NA",lead_starting_url:window.location.href||"NA",lead_id:(null==x?void 0:x.ProspectId)||"NA",section_name:(0,r.b)("parentSection")||"NA",status:"success",error_message:"NA",page_type:(0,r.b)("pageType")||"Home Page",page_url:(null===(a=window)||void 0===a?void 0:null===(t=a.location)||void 0===t?void 0:t.href)||"NA"});let{mf_call_recommendation:e="",mf_media_risk_level:s="",mf_token:l="",mf_trans_id:i=""}=(c.V.get("mFitlerKeyDetails")||{}).botData||{};n?J({mf_call_recommendation:e,mf_media_risk_level:s,Mf_token:l,mf_trans_id:i}):B({mf_call_recommendation:e,mf_media_risk_level:s,Mf_token:l,mf_trans_id:i})}else if(e.success){if((0,o.y)({event:"form_otp_verify",cta_text:"Verify OTP",lead_starting_cta:"Campaign Page"===(0,r.b)("pageType")?"NA":(0,r.b)("leadStartingCta")||"NA",lead_starting_url:window.location.href||"NA",lead_id:(null==x?void 0:x.ProspectId)||"NA",section_name:(0,r.b)("parentSection")||"NA",status:"success",error_message:"NA",page_type:(0,r.b)("pageType")||"Home Page",page_url:(null===(i=window)||void 0===i?void 0:null===(l=i.location)||void 0===l?void 0:l.href)||"NA"}),M.includes("ip-listing"))f(!1),k(!0),w(null),(null==d?void 0:d.verifyOtpGaCb)&&d.verifyOtpGaCb(),_(!1),setTimeout(()=>{k(!1)},100);else if(s){W();return}B();return}else(0,o.y)({event:"form_otp_verify",cta_text:"Verify OTP",lead_starting_cta:"Campaign Page"===(0,r.b)("pageType")?"NA":(0,r.b)("leadStartingCta")||"NA",lead_starting_url:window.location.href||"NA",lead_id:(null==x?void 0:x.ProspectId)||"NA",section_name:(0,r.b)("parentSection")||"NA",status:"fail",error_message:e.message||"NA",page_type:(0,r.b)("pageType")||"Home Page",page_url:(null===(p=window)||void 0===p?void 0:null===(u=p.location)||void 0===u?void 0:u.href)||"NA"}),w(e.message)}).catch(e=>{console.error("error",e)}).finally(()=>{v(!1)})},[i,S,null==S?void 0:S.hash]),q=(0,l.useMemo)(()=>({isOTPLoading:g,isOTPSent:m,showLoader:h,message:b,formCallback:i,otpGaCb:d,otpResponse:S,setOTPSent:f,setShowLoader:_,setMessage:w,handleSendOTP:Z,handleVerifyOTP:K,setLeadResponse:y,otpVerified:O,isInternationalNumber:C,leadResponse:x,isHeaderHidden:A,setIsHeaderHidden:E,isNewSignInFlow:I,setIsNewSignInFlow:L,leadError:F,leadFailedComp:R,setLeadFailedComp:V,handleResendOTP:Y}),[g,m,h,b,i,d,S,f,_,w,Z,K,y,O,C,x,A,E,F,R,Y]);return(0,a.jsx)(j.Provider,{value:q,children:t})}let S=()=>(0,l.useContext)(j),P=e=>{let{children:t,isLambdaAPI:n=!1,isDarkForm:r=!1,isCampusImmersionPage:o=!1,isProgramDetailsPage:c=!1}=e,{isOTPSent:u,setOTPSent:d,setMessage:p,showLoader:m,setShowLoader:f,leadError:h,leadFailedComp:_}=S(),g=(0,N.usePathname)();return(0,l.useEffect)(()=>()=>{d(!1),f(!1),p(null)},[]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"".concat(u||m&&!n||h?"hidden":""),children:t}),u&&!h&&(0,a.jsx)(b,{isProgramDetailsPage:c,isCampusImmersionPage:o,isDarkForm:r}),h&&_&&!g.includes("/lp-nw")&&(0,a.jsx)(i,{isDarkForm:r}),m&&!n&&(0,a.jsx)(s,{isDarkForm:r})]})}},52794:function(e){e.exports={root:"OTPInput_root__9nbLY",input:"OTPInput_input__hZmiA",input6:"OTPInput_input6__GcRT_",inputDark:"OTPInput_inputDark__kxx8d"}},60542:function(e){e.exports={vh_100:"styles_vh_100__K1BeE"}},75006:function(e){e.exports={root:"otp_root__avRcM",header:"otp_header__vAKti",text:"otp_text__0xaYY",message:"otp_message__NNNNP",icon:"otp_icon__U_bx_",mtitle:"otp_mtitle__ctcEG",mtext:"otp_mtext__zAxnh",formHeading:"otp_formHeading__EORtP",formHeading2:"otp_formHeading2__1stHK",subHeading:"otp_subHeading__hoqL7",subheading2:"otp_subheading2__T08j_",content:"otp_content__eUPmH",subheading:"otp_subheading__De2eu"}}}]);
//# sourceMappingURL=5254-6166390f93524de4.js.map